<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex" />
    <title>CBOA Content Manager (Local)</title>
    <!-- TinyMCE for WYSIWYG editing -->
    <script src="https://cdn.tiny.cloud/1/3qrvs2mrxhabanj8u4ub1lllalhogawo5kje2l6w6asoz3xu/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
    <style>
      /* Enhanced WYSIWYG Editor Styles */
      .css-1gj57a0-SplitPane {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important;
        gap: 20px !important;
      }

      /* Better toolbar styling */
      [class*="ToolbarContainer"] {
        background: linear-gradient(to right, #f8f9fa, #e9ecef) !important;
        padding: 12px !important;
        border-bottom: 2px solid #dee2e6 !important;
        position: sticky !important;
        top: 0 !important;
        z-index: 100 !important;
      }

      [class*="ToolbarButton"] {
        padding: 8px 12px !important;
        margin: 0 3px !important;
        border-radius: 6px !important;
        background: white !important;
        border: 1px solid #ced4da !important;
        transition: all 0.2s !important;
        font-size: 14px !important;
      }

      [class*="ToolbarButton"]:hover {
        background: #003DA5 !important;
        color: white !important;
        border-color: #003DA5 !important;
        transform: translateY(-1px) !important;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
      }

      /* Editor pane styling */
      [class*="ControlContainer"] textarea {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
        font-size: 16px !important;
        padding: 20px !important;
      }

      [class*="EditorContainer"] {
        padding: 20px !important;
      }

      /* Fix cursor alignment in markdown editor */
      [class*="ControlContainer"] textarea {
        line-height: normal !important;
        box-sizing: border-box !important;
        vertical-align: top !important;
      }

      /* Preview pane styling */
      [class*="PreviewPane"] {
        padding: 20px !important;
        background: white !important;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
      }

      [class*="PreviewPane"] h1 {
        color: #003DA5 !important;
        font-size: 2.5em !important;
        margin: 0.5em 0 !important;
      }

      [class*="PreviewPane"] h2 {
        color: #003DA5 !important;
        font-size: 2em !important;
        margin: 0.5em 0 !important;
      }

      [class*="PreviewPane"] h3 {
        color: #003DA5 !important;
        font-size: 1.5em !important;
        margin: 0.5em 0 !important;
      }

      [class*="PreviewPane"] blockquote {
        border-left: 4px solid #F97316 !important;
        background: #FFF7ED !important;
        padding: 1rem 1.5rem !important;
        margin: 1.5rem 0 !important;
        font-style: italic !important;
      }

      [class*="PreviewPane"] table {
        width: 100% !important;
        border-collapse: collapse !important;
        margin: 1.5rem 0 !important;
      }

      [class*="PreviewPane"] th {
        background: #003DA5 !important;
        color: white !important;
        padding: 0.75rem !important;
      }

      [class*="PreviewPane"] td {
        border: 1px solid #dee2e6 !important;
        padding: 0.75rem !important;
      }
    </style>
  </head>
  <body>
    <!-- Include React (required for Decap CMS widgets) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Make React globally available for widgets -->
    <script>
      window.h = window.React.createElement;
      window.Component = window.React.Component;
    </script>
    <!-- Include TinyMCE Widget -->
    <script src="/admin/tinymce-widget.js"></script>
    <!-- Include Decap CMS -->
    <script src="https://unpkg.com/decap-cms@^3.1.10/dist/decap-cms.js"></script>
    <script>
      // Use local config for development
      window.CMS_MANUAL_INIT = true;

      window.addEventListener('load', function() {
        window.CMS.init({
          config: {
            load_config_file: true,
            config_url: '/config-local.yml'
          }
        });
      });
    </script>
  </body>
</html>
